<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alt-D Settings</title>
    <link rel="stylesheet" href="options.css" />
  </head>
  <body>
    <main>
      <header>
        <h1>Alt-D Smart Fix</h1>
        <p>Wire Alt+D to Groq. Store your API key locally and choose the model + tone.</p>
      </header>

      <form id="settings-form">
        <section>
          <label for="apiKey">Groq API key</label>
          <input id="apiKey" name="apiKey" type="password" placeholder="grq_..." autocomplete="off" required />
          <small>Stored only on this device via chrome.storage.local.</small>
        </section>

        <section class="grid">
          <div>
            <label for="model">Model</label>
            <div class="model-selector">
              <select id="model" name="model"></select>
              <button type="button" id="refresh-models" title="Refresh models from Groq API">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 12a9 9 0 1 1-3-6.7L21 2v5h-5"/>
                </svg>
              </button>
            </div>
            <small id="model-status">Models auto-fetched from Groq API. Click refresh to update.</small>
          </div>
          <div>
            <label for="temperature">Temperature</label>
            <input id="temperature" name="temperature" type="number" min="0" max="1" step="0.05" />
          </div>
        </section>

        <section>
          <span>Targets</span>
          <label class="inline"><input type="checkbox" id="mode-grammar" /> Grammar</label>
          <label class="inline"><input type="checkbox" id="mode-vocabulary" /> Vocabulary</label>
          <label class="inline"><input type="checkbox" id="mode-custom" /> Apply custom instructions</label>
        </section>

        <section>
          <label for="tone">Tone</label>
          <select id="tone" name="tone">
            <optgroup label="Standard Tones">
              <option value="default">Default (No tone adjustment)</option>
              <option value="formal">Formal (Professional, business-like)</option>
              <option value="friendly">Friendly (Warm, approachable)</option>
              <option value="concise">Concise (Brief, to the point)</option>
              <option value="casual">Casual (Relaxed, conversational)</option>
            </optgroup>
            <optgroup label="Professional Tones">
              <option value="academic">Academic (Scholarly, precise)</option>
              <option value="technical">Technical (Domain-specific, detailed)</option>
              <option value="persuasive">Persuasive (Compelling, convincing)</option>
              <option value="diplomatic">Diplomatic (Tactful, balanced)</option>
              <option value="neutral">Neutral (Objective, impartial)</option>
            </optgroup>
            <optgroup label="Expressive Tones">
              <option value="playful">Playful (Fun, witty)</option>
              <option value="enthusiastic">Enthusiastic (Energetic, excited)</option>
              <option value="creative">Creative (Vivid, imaginative)</option>
              <option value="empathetic">Empathetic (Compassionate, caring)</option>
              <option value="confident">Confident (Assertive, decisive)</option>
            </optgroup>
            <optgroup label="Custom Tones">
              <option value="custom1">Custom Tone 1</option>
              <option value="custom2">Custom Tone 2</option>
              <option value="custom3">Custom Tone 3</option>
            </optgroup>
          </select>
        </section>

        <section class="tone-preview">
          <label>Tone Prompt Preview</label>
          <div id="tone-prompt-preview" class="prompt-preview-box">
            <em class="muted">No tone adjustment applied</em>
          </div>
        </section>

        <section id="custom-tones-section" class="custom-tones">
          <label>Custom Tone Prompts</label>
          <small class="muted">Define your own tone instructions. These are used when you select Custom Tone 1/2/3 above.</small>
          
          <div class="custom-tone-item">
            <label for="custom-tone-1">Custom Tone 1</label>
            <textarea id="custom-tone-1" name="customTone1" rows="2" placeholder="e.g., Write like a pirate captain giving orders..."></textarea>
          </div>
          
          <div class="custom-tone-item">
            <label for="custom-tone-2">Custom Tone 2</label>
            <textarea id="custom-tone-2" name="customTone2" rows="2" placeholder="e.g., Use Gen-Z slang and internet speak..."></textarea>
          </div>
          
          <div class="custom-tone-item">
            <label for="custom-tone-3">Custom Tone 3</label>
            <textarea id="custom-tone-3" name="customTone3" rows="2" placeholder="e.g., Write in the style of Shakespeare..."></textarea>
          </div>
        </section>

        <section id="disabled-section" class="disabled-management">
          <label>Disabled Pages & Sites</label>
          <div id="disabled-list" class="disabled-list">
            <em class="muted">No pages or sites disabled</em>
          </div>
          <div class="disabled-actions">
            <button type="button" id="clear-all-disabled">Clear All Disabled</button>
            <span id="disabled-timer" class="muted"></span>
          </div>
        </section>

        <section class="links-section">
          <label>Quick Links</label>
          <div class="links-buttons">
            <a href="tutorial.html" class="link-btn tutorial-btn">
              <span class="link-icon">üìñ</span>
              <span>Setup Tutorial</span>
            </a>
            <a href="privacy.html" class="link-btn privacy-btn">
              <span class="link-icon">üîí</span>
              <span>Privacy Policy</span>
            </a>
            <a href="https://github.com/melancholic-ksm/altd" target="_blank" class="link-btn github-btn">
              <span class="link-icon">üêô</span>
              <span>GitHub</span>
            </a>
          </div>
        </section>

        <footer>
          <button type="submit">Save</button>
          <span id="save-banner" role="status"></span>
        </footer>
      </form>
    </main>

    <script src="options.js"></script>
  </body>
</html>